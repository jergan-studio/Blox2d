<!DOCTYPE html>
<html>
<head>
<title>Blox2D - Studio</title>
<style>
body{margin:0;font-family:Arial;background:#0d0d0f;color:white}
header{padding:15px;background:#121217}
textarea{width:100%;height:80vh;background:#0d0d12;color:#0f0;
border:1px solid #333;font-family:monospace;padding:10px}
button{padding:10px;margin-top:10px;background:#4da6ff;border:0}
</style>
</head>
<body>

<script>
if(!localStorage.getItem("blox_user")) location.href="login.html";
</script>

<header>ðŸ§° Studio</header>

<textarea id="script">// BloxScript
when start
  player.speed = 5
end</textarea>

<button onclick="publish()">ðŸš€ Publish</button>
<p id="id"></p>

<script>
function publish(){
  const name=prompt("Game name?");
  if(!name) return;

  const games=JSON.parse(localStorage.getItem("blox_games")||"[]");
  const gid="G-"+Math.floor(Math.random()*1000000);

  games.push({
    id:gid,
    name:name,
    author:localStorage.getItem("blox_user"),
    script:script.value
  });

  localStorage.setItem("blox_games",JSON.stringify(games));
  id.innerText="Published! Game ID: "+gid;
}
</script>

</body>
</html>
